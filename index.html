<!DOCTYPE html>
<html>
<head>
  <title>Engineering Portfolio</title>
  <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>
  <div class="container">
    <!-- Button container -->
    <div class="buttons">
      <a href="https://github.com/roonlafisa" target="_blank" class="button">GitHub</a>
      <a href="resume/ASIF AL NOOR- resume.pdf" download class="button">Download Resume</a>
    </div>
    
    <div class="tabs">
      <div class="tab active" onclick="changeTab(event, 'general')">General Information</div>
      <div class="tab" onclick="changeTab(event, 'career')">Career History</div>
    </div>
    
    <div id="general" class="content active">
      <h2 id="generalTitle"></h2>
      <p id="generalContent"></p>
    </div>
    
    <div id="career" class="content">
      <h2 id="careerTitle"></h2>
      <ul id="careerList"></ul>
    </div>
  </div>
  
  <script src="data/database.json"></script>
  <script>
    function changeTab(event, tabId) {
      // Get all tab elements
      var tabs = document.getElementsByClassName('tab');
      
      // Remove the 'active' class from all tabs
      for (var i = 0; i < tabs.length; i++) {
        tabs[i].classList.remove('active');
      }
      
      // Get all content elements
      var contents = document.getElementsByClassName('content');
      
      // Hide all content
      for (var j = 0; j < contents.length; j++) {
        contents[j].style.display = 'none';
      }
      
      // Add 'active' class to the selected tab
      event.target.classList.add('active');
      
      // Show the selected content
      document.getElementById(tabId).style.display = 'block';
    }
    
    // Load and update content from the database file
    window.addEventListener('DOMContentLoaded', function() {
      fetch('data/database.json')
        .then(response => response.json())
        .then(data => {
          // Update general information
          document.getElementById('generalTitle').textContent = data.general.title;
          document.getElementById('generalContent').textContent = data.general.content;
          
          // Update career history
          document.getElementById('careerTitle').textContent = data.career.title;
          var careerList = document.getElementById('careerList');
          data.career.history.forEach(function(job) {
            var li = document.createElement('li');
            li.innerHTML = '<strong>' + job.position + '</strong> at ' + job.company + ' (' + job.duration + ')<br>' + job.description;
            careerList.appendChild(li);
          });
        })
        .catch(error => console.error('Error fetching database:', error));
    });
  </script>
</body>
</html>
